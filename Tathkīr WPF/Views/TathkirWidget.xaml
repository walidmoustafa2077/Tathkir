<Window x:Class="Tathkīr_WPF.TathkirWidget"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:Tathkīr_WPF"
        mc:Ignorable="d"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Width="320"
        Height="424"
        MouseDown="Window_MouseDown">

    <Border CornerRadius="20"
            Background="#CC2196F3"
            Padding="12">
        <StackPanel>

            <!-- Countdown -->
            <StackPanel VerticalAlignment="Top"
                        Margin="0,8 0 0"
                        HorizontalAlignment="Center">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="{Binding NextPrayerIcon}"
                                             Width="32"
                                             Height="32"
                                             Foreground="White"
                                             VerticalAlignment="Center"
                                             Margin="0,0,8,0" />

                    <TextBlock Text="{Binding NextPrayerName}"
                               FontSize="20"
                               Foreground="White"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,6" />
                </StackPanel>

                <TextBlock Text="{Binding Countdown}"
                           Margin="0 6 0 0"
                           FontSize="36"
                           FontWeight="Bold"
                           Foreground="White"
                           HorizontalAlignment="Center" />
            </StackPanel>

            <!-- Prayer list -->
            <Border CornerRadius="16"
                    Background="#33FFFFFF"
                    Padding="8">
                <StackPanel>
                    <ItemsControl ItemsSource="{Binding PrayerList}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <!-- Icon -->
                                    <materialDesign:PackIcon Kind="{Binding Icon}"
                                                             Width="24"
                                                             Height="24"
                                                             Foreground="White"
                                                             VerticalAlignment="Center"
                                                             Margin="0,0,8,0" />
                                    <!-- Prayer Name -->
                                    <TextBlock Text="{Binding Name}"
                                               FontSize="16"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               Grid.Column="1" />
                                    <!-- Time -->
                                    <TextBlock Text="{Binding Time}"
                                               FontSize="16"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               Grid.Column="2" />
                                </Grid>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <!-- Midnight and Last Third row -->
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                Margin="0,4,0,0"
                                Opacity="0.8">

                        <TextBlock Text="{x:Static local:Strings.Midnight}"
                                   Foreground="White"
                                   FontSize="14"
                                   Margin="0,0,4,0" />

                        <TextBlock Text="{Binding MidnightTime}"
                                   Foreground="White"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   Margin="0,0,6,0" />

                        <TextBlock Text="|"
                                   Foreground="White"
                                   FontSize="14" />

                        <TextBlock Text="{x:Static local:Strings.Last_Third}"
                                   Foreground="White"
                                   FontSize="14"
                                   Margin="6,0,4,0" />

                        <TextBlock Text="{Binding LastThirdTime}"
                                   Foreground="White"
                                   FontSize="14"
                                   FontWeight="SemiBold" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Bottom date -->
            <TextBlock Text="{Binding CurrentDate}"
                       Foreground="White"
                       FontSize="14"
                       FontWeight="Medium"
                       HorizontalAlignment="Center"
                       Margin="0,8,0,0" />
        </StackPanel>
    </Border>
</Window>